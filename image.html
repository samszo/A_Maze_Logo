<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A maze(ing) Logo</title>
    <script src="asset/js/d3.V6.min.js"></script>
    <script src="asset/js/anime.min.js"></script>
    <script src="asset/js/rgbcolor.js"></script>
    <script src="asset/js/canvg.js"></script>
    <script src="asset/js/svgenie.js"></script>
    <script src="asset/js/amazelogo.js"></script>

    <style>
        body{
            background-color: white;
            margin:0px
        }
        #logoMaze{
            height: 100%;
            width: 100%;
        }
    </style>
</head>
<body>
    <div id="logoMaze"></div>

    <script>
        const urlParams = new URLSearchParams(window.location.search);
        
        let ml = new amazelogo({'idCont':'logoMaze'
            ,'colorLettre':'alea','colorMurLettre':'alea','colorMur':'alea', 'colorPoint':'alea'
            ,'textes':urlParams.has('texte') ? [urlParams.get('texte')] : ['mutations']
            ,'dureeBalance':1, 'repeatBalance':0
            ,'fctEndTexte':urlParams.has('fctEndTexte') ? fct(urlParams.get('fctEndTexte')) : getPhoto
            ,'colorFond':'white'
            ,'margin': urlParams.has('margin') ? Number(urlParams.get('margin')) : 4
            ,'width': urlParams.has('w') ? Number(urlParams.get('w')) : 800
            ,'height': urlParams.has('h') ? Number(urlParams.get('h')) : 600
            ,'responsive': urlParams.has('responsive') ? Number(urlParams.get('responsive')) : 0
        });
        function getPhoto(){            
            svgenie.save(document.getElementById('logoMazesvgMazeLogo'),{ name:"A_Maze_Logo.png" }); 
        }
        function rien(){
            console.log('rien');
        }            
        function fct(txt){
            switch (txt) {
                case 'animeMelangePhoto':
                    return parent.animeMelangePhoto
                    break;        
                case 'positionneLogo':
                    return parent.positionneLogo
                    break;                                
                case 'rien':
                    return rien
                    break;            
                default:
                    return getPhoto
                    break;
            }
        }            

    </script>
</body>
</html>